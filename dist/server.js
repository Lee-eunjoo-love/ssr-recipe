(()=>{"use strict";var e={n:r=>{var t=r&&r.__esModule?()=>r.default:()=>r;return e.d(t,{a:t}),t},d:(r,t)=>{for(var s in t)e.o(t,s)&&!e.o(r,s)&&Object.defineProperty(r,s,{enumerable:!0,get:t[s]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r)};const r=require("react-dom/server");var t=e.n(r);const s=require("express");var n=e.n(s);const o=require("react-router-dom"),a=require("react/jsx-runtime"),c=()=>{const e=[{name:"Red",path:"/red"},{name:"Blue",path:"/blue"},{name:"Users",path:"/users"},{name:"Sample",path:"/sample"},{name:"Counter",path:"/counter"},{name:"About",path:"/about"}],r={display:"inline-block",minWidth:150,textDecoration:"none"};return(0,a.jsx)("ul",{style:{listStyle:"none"},children:e&&e.map(e=>(0,a.jsx)("li",{style:r,children:(0,a.jsx)(o.Link,{to:e.path,children:e.name})},e.name))})},i=()=>{const{id:e}=(0,o.useParams)();return(0,a.jsxs)("div",{className:"red",children:["Red ",e]})},l=()=>(0,a.jsx)(i,{}),u=()=>(0,a.jsx)("div",{className:"blue",children:"Blue"}),d=()=>(0,a.jsx)(u,{}),p=require("react-redux"),h=e=>{if(e&&e.users)return(0,a.jsx)("div",{children:(0,a.jsx)("section",{children:e&&e.users&&(0,a.jsx)("ul",{children:e.users.map(e=>(0,a.jsx)("li",{children:(0,a.jsxs)(o.Link,{to:"/users/".concat(e.id),children:[e.username," (",e.name,")"]})},e.id))})})})};function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function m(e,r,t){return(r=function(e){var r=function(e){if("object"!=j(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=j(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==j(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function x(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,s)}return t}function y(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?x(Object(t),!0).forEach(function(r){m(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}const f=require("axios");var g=e.n(f);const S=require("redux-saga/effects"),v="users/GET_USERS_SUCCESS",b="users/GET_USERS_FAILURE",E="users/GET_USER",_="users/GET_USER_SUCCESS",O="users/GET_USER_FAILURE",R=()=>async e=>{try{e({type:b});e((r=(await g().get("https://jsonplaceholder.typicode.com/users")).data,{type:v,payload:r}))}catch(r){throw e((e=>({type:b,error:!0,payload:e}))(r)),r}var r},P=e=>({type:E,payload:e}),T=e=>g().get("https://jsonplaceholder.typicode.com/users/".concat(e));function*w(e){try{const t=yield(0,S.call)(T,e.payload);yield(0,S.put)((r=t.data,{type:_,payload:r}))}catch(e){yield(0,S.put)((e=>({type:O,payload:e,error:!0}))(e))}var r}function*U(){yield(0,S.takeEvery)(E,w)}const A={users:null,user:null,loading:{users:!1,user:!1},error:{users:null,user:null}},C=require("react"),D=(0,C.createContext)(null),k=D,q=e=>{let{resolve:r}=e;const t=(0,C.useContext)(D);return t?(t.done||t.promises.push(Promise.resolve(r())),null):null},G=()=>{const e=(0,p.useSelector)(e=>e.users.users),r=(0,p.useDispatch)();return(0,C.useEffect)(()=>{e||r(R())},[r,e]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h,{users:e}),(0,a.jsx)(q,{resolve:()=>r(R)})]})},I=e=>{let{user:r}=e;const{email:t,name:s,username:n}=r;return(0,a.jsxs)("div",{children:[JSON.stringify(r),(0,a.jsxs)("h1",{children:[n," (",s,")"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("b",{children:"e-mail: "}),t]})]})},N=e=>{let{id:r}=e;const t=(0,p.useSelector)(e=>e.users.user),s=(0,p.useDispatch)();return(0,C.useEffect)(()=>{t&&t.id===parseInt(r,10)||s(P(r))},[s,r,t]),t?(0,a.jsx)(I,{user:t}):(0,a.jsx)(q,{resolve:()=>s(P(r))})},F=()=>{const{id:e}=(0,o.useParams)();return(0,a.jsx)(N,{id:e})},L=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(G,{}),(0,a.jsx)(o.Routes,{children:(0,a.jsx)(o.Route,{path:":id",element:(0,a.jsx)(F,{})})}),(0,a.jsx)(o.Outlet,{})]}),J=()=>(0,a.jsx)("div",{style:{textAlign:"center",marginTop:"5rem"},children:(0,a.jsx)("h2",{children:"Not found page."})}),M=()=>(0,a.jsx)(J,{}),B=e=>{let{loadingPost:r,loadingUsers:t,post:s,users:n}=e;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{children:"포스트"}),r&&"로딩중...",!r&&s&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{children:s.title}),(0,a.jsx)("p",{children:s.body})]})]}),(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{children:"사용자"}),t&&"로딩중...",!t&&n&&(0,a.jsx)("ul",{children:n.map(e=>(0,a.jsxs)("li",{children:[e.name," (",e.username,")"]},e.id))})]})]})},Y=require("redux-actions"),H="loading/START_LOADING",W="loading/FINISH_LOADING",$=(0,Y.createAction)(H,e=>e),z=(0,Y.createAction)(W,e=>e);function K(e,r){const t="".concat(e,"_SUCCESS"),s="".concat(e,"_FAILURE");return n=>async o=>{o({type:e}),o($(e));try{const s=await r(n);o({type:t,payload:s.data}),o(z(e))}catch(r){throw o({type:s,payload:r,error:!0}),o($(e)),r}}}(0,Y.handleActions)({[H]:(e,r)=>y(y({},e),{},{[r.payload]:!0}),[W]:(e,r)=>y(y({},e),{},{[r.payload]:!1})},{});const Q="sample/GET_POST_SUCCESS",V="sample/GET_USERS_SUCCESS",X=K("sample/GET_POST",e=>g().get("https://jsonplaceholder.typicode.com/posts/".concat(e))),Z=K("sample/GET_USERS",()=>{g().get("https://jsonplaceholder.typicode.com/users")}),ee=(0,Y.handleActions)({[Q]:(e,r)=>y(y({},e),{},{post:r.payload}),[V]:(e,r)=>y(y({},e),{},{users:r.payload})},{post:null,users:null,error:null}),re=(0,p.connect)(e=>{let{sample:r,loading:t}=e;return{post:r.post,users:r.users,loadingPost:t["sample/GET_POST"],loadingUsers:t["sample/GET_USERS"],error:r.error}},{getPost:X,getUsers:Z})(e=>{let{post:r,users:t,error:s,loading:n,getPost:o,getUsers:c}=e;return(0,C.useEffect)(()=>{(async()=>{try{await o(1),await c()}catch(e){console.log(e)}})()},[o,c]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(B,{post:r,users:t,error:s,loading:n}),(0,a.jsx)(q,{resolve:()=>o}),(0,a.jsx)(q,{resolve:()=>c})]})}),te=()=>(0,a.jsx)(re,{}),se="counter/INCREASE",ne="counter/DECREASE",oe=(0,Y.createAction)(se),ae=(0,Y.createAction)(ne),ce=(0,Y.handleActions)({[se]:e=>e+1,[ne]:e=>e-1},0),ie=e=>{let{onIncrease:r,onDecrease:t,number:s}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{children:s}),(0,a.jsx)("button",{onClick:r,children:"+1"}),(0,a.jsx)("button",{onClick:t,children:"-1"})]})},le=(0,p.connect)(e=>({number:e.counter}),{increase:oe,decrease:ae})(e=>{let{number:r,increase:t,decrease:s}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ie,{number:r,onIncrease:t,onDecrease:s}),(0,a.jsx)(q,{resolve:()=>t}),(0,a.jsx)(q,{resolve:()=>s})]})}),ue=()=>(0,a.jsx)(le,{}),de=function(){return(0,a.jsxs)("div",{children:[(0,a.jsx)(c,{}),(0,a.jsx)("hr",{}),(0,a.jsxs)(o.Routes,{children:[(0,a.jsx)(o.Route,{path:"/red",element:(0,a.jsx)(l,{})}),(0,a.jsx)(o.Route,{path:"/blue",element:(0,a.jsx)(d,{})}),(0,a.jsx)(o.Route,{path:"/users/*",element:(0,a.jsx)(L,{})}),(0,a.jsx)(o.Route,{path:"/sample",element:(0,a.jsx)(te,{})}),(0,a.jsx)(o.Route,{path:"/counter",element:(0,a.jsx)(ue,{})}),(0,a.jsx)(o.Route,{path:"/*",element:(0,a.jsx)(M,{})})]})]})},pe=require("path");var he=e.n(pe);const je=require("fs");var me=e.n(je);const xe=require("redux"),ye=require("redux-thunk");function*fe(){yield(0,S.all)([U])}const ge=(0,xe.combineReducers)({users:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"users/GET_USERS":return y(y({},e),{},{loading:y(y({},e.loading),{},{users:!0})});case v:return y(y({},e),{},{loading:y(y({},e.loading),{},{users:!1}),users:r.payload});case b:return y(y({},e),{},{loading:y(y({},e.loading),{},{users:!1}),error:y(y({},e.error),{},{users:r.payload})});case E:return y(y({},e),{},{loading:y(y({},e.loading),{},{user:!0}),error:y(y({},e.error),{},{user:null})});case _:return y(y({},e),{},{loading:y(y({},e.loading),{},{user:!1}),user:r.payload});case O:return y(y({},e),{},{loading:y(y({},e.loading),{},{user:!1}),error:y(y({},e.error),{},{user:r.payload})});default:return e}},sample:ee,counter:ce}),Se=require("redux-saga");var ve=e.n(Se);const be=JSON.parse(me().readFileSync(he().resolve(__dirname,"../build/asset-manifest.json"),"utf-8")),Ee=Object.keys(be.files).filter(e=>/chunk\.js$/.exec(e)).map(e=>'<script src="'.concat(be.files[e],'"><\/script>')).join(""),_e=n()(),Oe=n().static(he().resolve(__dirname,"../build"),{index:!1});_e.use(Oe),_e.use(async(e,r,s)=>{const n=ve()(),c=(0,xe.legacy_createStore)(ge,(0,xe.applyMiddleware)(ye.thunk,n));n.run(fe);const i=n.run(fe).toPromise(),l={done:!1,promises:[]},u=(0,a.jsx)(k.Provider,{value:l,children:(0,a.jsx)(p.Provider,{store:c,children:(0,a.jsx)(o.StaticRouter,{location:e.url,context:{},children:(0,a.jsx)(de,{})})})});t().renderToStaticMarkup(u),c.dispatch(Se.END);try{await i,await Promise.all(l.promises)}catch(e){return r.status(500)}l.done=!0;const d=t().renderToString(u),h=JSON.stringify(c.getState()).replace(/</g,"\\u003c"),j="<script>__PRELOADED_STATE__ = ".concat(h,"<\/script>");r.send(function(e,r){return'<!DOCTYPE html>\n  <html lang="en">\n    <head>\n        <meta charset="UTF-8" />\n        <link rel="shortcut icon" href="/favicon.ico" />\n        <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n        <meta name="theme-color" content="#000000" />\n        <title>React App</title>\n        <link href="'.concat(be.files["main.css"],'" rel="stylesheet" />\n    </head>\n    <body>\n        <noscript>You need to enable JavaScript to run this app.</noscript>\n        <div id="root">').concat(e,"</div>\n        ").concat(r,"\n        ").concat(Ee,'\n        <script src="').concat(be.files["main.js"],'"><\/script>\n    </body>\n  </html>')}(d,j))}),_e.listen(5e3,()=>{console.log("Running on http://localhost:5000")})})();