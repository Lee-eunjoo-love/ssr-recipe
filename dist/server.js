(()=>{"use strict";var e={n:r=>{var t=r&&r.__esModule?()=>r.default:()=>r;return e.d(t,{a:t}),t},d:(r,t)=>{for(var n in t)e.o(t,n)&&!e.o(r,n)&&Object.defineProperty(r,n,{enumerable:!0,get:t[n]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r)};const r=require("react-dom/server");var t=e.n(r);const n=require("express");var s=e.n(n);const o=require("react-router-dom"),c=require("react/jsx-runtime"),i=()=>{const e=[{name:"Red",path:"/red"},{name:"Blue",path:"/blue"},{name:"Users",path:"/users"},{name:"Sample",path:"/sample"},{name:"Counter",path:"/counter"},{name:"About",path:"/about"}],r={display:"inline-block",minWidth:150,textDecoration:"none"};return(0,c.jsx)("ul",{style:{listStyle:"none"},children:e&&e.map(e=>(0,c.jsx)("li",{style:r,children:(0,c.jsx)(o.Link,{to:e.path,children:e.name})},e.name))})},a=()=>(0,c.jsx)("div",{className:"red",children:"Red"}),l=()=>(0,c.jsx)(a,{}),u=()=>(0,c.jsx)("div",{className:"blue",children:"Blue"}),d=()=>(0,c.jsx)(u,{}),p=require("react-redux"),h=e=>{if(e&&e.users)return(0,c.jsx)("div",{children:(0,c.jsx)("section",{children:e&&e.users&&(0,c.jsx)("ul",{children:e.users.map(e=>(0,c.jsx)("li",{children:(0,c.jsxs)(o.Link,{to:"/users/".concat(e.id),children:[e.username," (",e.name,")"]})},e.id))})})})};function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function j(e,r,t){return(r=function(e){var r=function(e){if("object"!=m(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=m(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==m(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function y(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function x(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?y(Object(t),!0).forEach(function(r){j(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}const f=require("axios");var S=e.n(f);const b="users/GET_USERS_SUCCESS",g="users/GET_USERS_FAILURE",v=()=>async e=>{try{e({type:g});e((r=(await S().get("https://jsonplaceholder.typicode.com/users")).data,{type:b,payload:r}))}catch(r){throw e((e=>({type:g,error:!0,payload:e}))(r)),r}var r},E={users:null,user:null,loading:{users:!1,user:!1},error:{users:null,user:null}},O=require("react"),_=(0,O.createContext)(null),P=_,R=e=>{let{resolve:r}=e;const t=(0,O.useContext)(_);return t?(t.done||t.promises.push(Promise.resolve(r())),null):null},w=()=>{const e=(0,p.useSelector)(e=>e.users.users),r=(0,p.useDispatch)();return(0,O.useEffect)(()=>{e||r(v())},[r,e]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(h,{users:e}),(0,c.jsx)(R,{resolve:()=>r(v)})]})},T=()=>(0,c.jsx)(w,{}),A=()=>(0,c.jsx)("div",{style:{textAlign:"center",marginTop:"5rem"},children:(0,c.jsx)("h2",{children:"Not found page."})}),U=()=>(0,c.jsx)(A,{}),C=e=>{let{loadingPost:r,loadingUsers:t,post:n,users:s}=e;return(0,c.jsxs)("div",{children:[(0,c.jsxs)("section",{children:[(0,c.jsx)("h2",{children:"포스트"}),r&&"로딩중...",!r&&n&&(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{children:n.title}),(0,c.jsx)("p",{children:n.body})]})]}),(0,c.jsxs)("section",{children:[(0,c.jsx)("h2",{children:"사용자"}),t&&"로딩중...",!t&&s&&(0,c.jsx)("ul",{children:s.map(e=>(0,c.jsxs)("li",{children:[e.name," (",e.username,")"]},e.id))})]})]})},D=require("redux-actions"),k="loading/START_LOADING",q="loading/FINISH_LOADING",G=(0,D.createAction)(k,e=>e),N=(0,D.createAction)(q,e=>e);function I(e,r){const t="".concat(e,"_SUCCESS"),n="".concat(e,"_FAILURE");return s=>async o=>{o({type:e}),o(G(e));try{const n=await r(s);o({type:t,payload:n.data}),o(N(e))}catch(r){throw o({type:n,payload:r,error:!0}),o(G(e)),r}}}(0,D.handleActions)({[k]:(e,r)=>x(x({},e),{},{[r.payload]:!0}),[q]:(e,r)=>x(x({},e),{},{[r.payload]:!1})},{});const L="sample/GET_POST_SUCCESS",F="sample/GET_USERS_SUCCESS",J=I("sample/GET_POST",e=>S().get("https://jsonplaceholder.typicode.com/posts/".concat(e))),M=I("sample/GET_USERS",()=>{S().get("https://jsonplaceholder.typicode.com/users")}),B=(0,D.handleActions)({[L]:(e,r)=>x(x({},e),{},{post:r.payload}),[F]:(e,r)=>x(x({},e),{},{users:r.payload})},{post:null,users:null,error:null}),Y=(0,p.connect)(e=>{let{sample:r,loading:t}=e;return{post:r.post,users:r.users,loadingPost:t["sample/GET_POST"],loadingUsers:t["sample/GET_USERS"],error:r.error}},{getPost:J,getUsers:M})(e=>{let{post:r,users:t,error:n,loading:s,getPost:o,getUsers:i}=e;return(0,O.useEffect)(()=>{(async()=>{try{await o(1),await i()}catch(e){console.log(e)}})()},[o,i]),(0,c.jsx)(C,{post:r,users:t,error:n,loading:s})}),H=()=>(0,c.jsx)(Y,{}),W="counter/INCREASE",$="counter/DECREASE",z=(0,D.createAction)(W),K=(0,D.createAction)($),Q=(0,D.handleActions)({[W]:e=>e+1,[$]:e=>e-1},0),V=e=>{let{onIncrease:r,onDecrease:t,number:n}=e;return(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{children:n}),(0,c.jsx)("button",{onClick:r,children:"+1"}),(0,c.jsx)("button",{onClick:t,children:"-1"})]})},X=(0,p.connect)(e=>({number:e.counter}),{increase:z,decrease:K})(e=>{let{number:r,increase:t,decrease:n}=e;return(0,c.jsx)(V,{number:r,onIncrease:t,onDecrease:n})}),Z=()=>(0,c.jsx)(X,{}),ee=function(){return(0,c.jsxs)("div",{children:[(0,c.jsx)(i,{}),(0,c.jsx)("hr",{}),(0,c.jsxs)(o.Routes,{children:[(0,c.jsx)(o.Route,{path:"/red",element:(0,c.jsx)(l,{})}),(0,c.jsx)(o.Route,{path:"/blue",element:(0,c.jsx)(d,{})}),(0,c.jsx)(o.Route,{path:"/users/*",element:(0,c.jsx)(T,{})}),(0,c.jsx)(o.Route,{path:"/sample",element:(0,c.jsx)(H,{})}),(0,c.jsx)(o.Route,{path:"/counter",element:(0,c.jsx)(Z,{})}),(0,c.jsx)(o.Route,{path:"/*",element:(0,c.jsx)(U,{})})]})]})},re=require("path");var te=e.n(re);const ne=require("fs");var se=e.n(ne);const oe=require("redux"),ce=require("redux-thunk"),ie=(0,oe.combineReducers)({users:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"users/GET_USERS_PENDING":return x(x({},e),{},{loading:x(x({},e.loading),{},{users:!0})});case b:return x(x({},e),{},{loading:x(x({},e.loading),{},{users:!1}),users:r.payload});case g:return x(x({},e),{},{loading:x(x({},e.loading),{},{users:!1}),error:x(x({},e.error),{},{users:r.payload})});default:return e}},sample:B,counter:Q}),ae=JSON.parse(se().readFileSync(te().resolve(__dirname,"../build/asset-manifest.json"),"utf-8")),le=Object.keys(ae.files).filter(e=>/chunk\.js$/.exec(e)).map(e=>'<script src="'.concat(ae.files[e],'"><\/script>')).join(""),ue=s()(),de=s().static(te().resolve(__dirname,"../build"),{index:!1});ue.use(de),ue.use(async(e,r,n)=>{const s=(0,oe.legacy_createStore)(ie,(0,oe.applyMiddleware)(ce.thunk)),i={done:!1,promises:[]},a=(0,c.jsx)(P.Provider,{value:i,children:(0,c.jsx)(p.Provider,{store:s,children:(0,c.jsx)(o.StaticRouter,{location:e.url,context:{},children:(0,c.jsx)(ee,{})})})});t().renderToStaticMarkup(a);try{await Promise.all(i.promises)}catch(e){return r.status(500)}i.done=!0;const l=t().renderToString(a),u=JSON.stringify(s.getState()).replace(/</g,"\\u003c"),d="<script>__PRELOADED_STATE__ = ".concat(u,"<\/script>");r.send(function(e,r){return'<!DOCTYPE html>\n  <html lang="en">\n    <head>\n        <meta charset="UTF-8" />\n        <link rel="shortcut icon" href="/favicon.ico" />\n        <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n        <meta name="theme-color" content="#000000" />\n        <title>React App</title>\n        <link href="'.concat(ae.files["main.css"],'" rel="stylesheet" />\n    </head>\n    <body>\n        <noscript>You need to enable JavaScript to run this app.</noscript>\n        <div id="root">').concat(e,"</div>\n        ").concat(r,"\n        ").concat(le,'\n        <script src="').concat(ae.files["main.js"],'"><\/script>\n    </body>\n  </html>')}(l,d))}),ue.listen(5e3,()=>{console.log("Running on http://localhost:5000")})})();